<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-Content-Type-Options" content="nosniff">
	<meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
	<meta http-equiv="Referrer-Policy" content="no-referrer">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  	<title>Microfi Free Flow Testnet Wallet</title>
	<meta name="description" content="Microfi Free Flow Bitcoin Cash CashTokens Testnet Wallet">
  	<meta name="web" content="https://microfi.eu/wallet/">
	<link rel="icon" type="image/png" sizes="42x42" href="../img/microfiweb.png">
	<link rel="stylesheet" href="../styles.css">
	<script defer src="https://cdn.jsdelivr.net/npm/mainnet-js@2.2.4/dist/mainnet-2.2.4.js" integrity="sha256-uMuLqyXW5lNUFZTmaeCq70qi8zTIqoGjlxztEhditBQ=" crossorigin="anonymous"></script>
	<script src="https://cdn.mainnet.cash/indexeddb-storage/indexeddb-storage-2.2.0.js" integrity="sha384-qqVFgmZr8EaZywDSVt4zYf435HWx1HNwmQlqIvIoMDLI/4shAMmHrr/FQooKY75N" crossorigin="anonymous"></script>
	<!-- <script src="https://cdn.mainnet.cash/contract/contract-2.2.0.js" integrity="sha384-bRtfzokfnoUHbKE5JGDxWvT45LfyhNaIySVtXltm9Xc2Quleax5nYvhGti4W6C8a" crossorigin="anonymous"></script> -->

</head>
<body>
	<div>
		<p><button type="button" class="buttonB"><a href="../wallet/"><b>Mainnet wallet</b></a></button></p>
		<p><img src="../img/microfi.png" alt="XMI icon" width="420"></p>
		<p><img src="../img/bitcoin-cash-logo.png" alt="BCH logo" width="200"></p>
		<h3>Microfi Free Flow Project</h3>
		<h3>testnet (chipnet)</h3>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Create or import a wallet</button>
		<div class="content">
			<p>Create a new wallet:</p>
			<p><button type="button" class="buttonB" id="create">Create</button></p>
			<p>Import a wallet from seed phrase or private key:</p>
			<p><input id="importSeedPhrase" type="text" size="50" placeholder="seed phrase"></p>
			<p>or</p>
			<p><input id="importPrivateKey" type="text" size="50" placeholder="private key (WIF)"></p>
			<p><button type="button" class="buttonB" id="import">Import</button></p>
			<p id="alert1"></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible" id="open">Open wallet</button>
		<div class="content">
			<p id="derivation"></p>
			<p id="mnemonic"></p>
			<p id="privatekey"></p>
			<p id="bchaddress"></p>
			<p><img src id="bchQr" width="200"></p>
			<p id="pubKey"></p>
			<p id="bchbalance"></p>
			<p id="cashtokensaddress"></p>
			<p><img src id="tokenQr" width="200"></p>
			<p id="tokensbalance"></p>
			<p id="nftsbalance"></p>
			<p>To update your balances, refresh the page and open the wallet again.</p>
			<p><button type="button" class="buttonB" id="refresh">Refresh</button></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Clear local storage</button>
		<div class="content">
			<p><button type="button" class="buttonB" id="clear">Clear</button></p>
			<p>The wallet will be deleted - the seed phrase / private key will be removed from the local storage of the browser.</p>
			<p id="alert2"></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Send BCH</button>
		<div class="content">
			<p><input id="sendAddr" type="text" size="50" placeholder="recipient address bchtest:..."></p>
			<p><input id="sendAmount" type="text" size="50" placeholder="amount in satoshis | leave empty if send max"></p>
			<p><button type="button" class="buttonB" id="sendBCH">Send tBCH</button></p>
			<p><button type="button" class="buttonB" id="sendBCHmax">Send max</button></p>
			<p id="bchsent"></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Send fungible CashTokens</button>
		<div class="content">
			<p><input id="sendAddrToken" type="text" size="50" placeholder="recipient address bchtest:z..."></p>
			<p><input id="sendTokenId" type="text" size="50" placeholder="tokenId"></p>
			<p><input id="sendAmountToken" type="text" size="50" placeholder="amount with decimals e.g. 10000 is 100 with 2 decimals"></p>
			<p><button type="button" class="buttonB" id="sendTokens">Send tokens</button></p>
			<p id="ftsent"></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Send NFT CashTokens</button>
		<div class="content">
			<p><input id="sendAddrToken1" type="text" size="50" placeholder="recipient address bchtest:z..."></p>
			<p><input id="sendNftTokenId" type="text" size="50" placeholder="tokenId"></p>
			<p><input id="nftCommitment" type="text" size="50" placeholder="NFT commitment"></p>
			<select id="capabilityLists">
				<option value="NFTCapability.none">Immutable</option>
				<option value="NFTCapability.minting">Minting</option>
				<option value="NFTCapability.mutable">Mutable</option>
			</select>
			<p>* choose NFT capability from the list</p>
			<p><button type="button" class="buttonB" id="sendNfts">Send NFT</button></p>
			<p id="nftsent"></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Create CashTokens</button>
		<div class="content">
			<h3>Generate tokenId</h3>
			<!-- <p>Before creating a token or NFT generate tokenId and create token metadata registry <a href="...">BCMR</a><br>
			Copy generated tokenId and paste to BCMR<br> -->
			<p>Generate a new tokenId for every new token</p>
			<p><button type="button" class="buttonB" id="createTokenId">Generate</button></p>
			<p id="generateId"></p>
	
			<h3>Create fungible tokens</h3>
			<p>For testing we do not use BCMR uri<br>Token symbol and name are on-chain</p>
			<!-- <p>Token symbol, name and BCMR uri are on-chain (in op_return)</p>
			<input id="tokenUri" type="text" size="50" placeholder="token BCMR json url without https://">
			<br> -->
			<p><input id="tokenSymbol1" type="text" size="50" placeholder="symbol"></p>
			<p><input id="tokenName1" type="text" size="50" placeholder="name"></p>
			<p><input id="tokenAmount" type="text" size="50" placeholder="amount with decimals"></p>
			<p><button type="button" class="buttonB" id="createTokens">Create tokens</button></p>
			<p id="createFt"></p>
			<br>

			<h3>Create semi-fungible group tokens</h3>
			<p>For testing we do not use BCMR uri<br>Token symbol and name are on-chain</p>
			<p>Genesis commitment is "00"</p>
			<!-- <p><input id="tokenUriSf" type="text" size="50" placeholder="BCMR json url without https:// and with / at the end"></p> -->
			<p><input id="tokenSymbol2" type="text" size="50" placeholder="symbol"></p>
			<p><input id="tokenName2" type="text" size="50" placeholder="name"></p>
			<p><input id="sfAmount" type="text" size="50" placeholder="amount (no decimals) e.g. 100"></p>
			<p><button type="button" class="buttonB" id="createGroupTokens">Create group tokens</button></p>
			<p id="createGroup"></p>

			<h3>Mint NFT from group tokens</h3>
			<p>Amount of group tokens will decrease</p>
			<p><input id="mnftId" type="text" size="50" placeholder="tokenId"></p>
			<p><input id="mnftCommitment" type="text" size="50" placeholder="NFT commitment"></p>
			<select id="capabilityList1">
				<option value="NFTCapability.none">Immutable</option>
				<option value="NFTCapability.minting">Minting</option>
				<option value="NFTCapability.mutable">Mutable</option>
			</select>
			<p>* choose NFT capability from the list</p>
			<p><button type="button" class="buttonB" id="mintNft">Mint NFT</button></p>
			<p id="mintGroup"></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Burn CashTokens</button>
		<div class="content">
			<p><input id="burnTokenId" type="text" size="50" placeholder="tokenId (category)"></p>
			<p><input id="burnAmount" type="text" size="50" placeholder="amount"></p>
			<p><button type="button" class="buttonB" id="burnFt">Burn fungible tokens</button></p>
			<p id="burnFtTx"></p>
			<br>
			<p><input id="burnNftId" type="text" size="50" placeholder="NFT tokenId (category)"></p>
			<p><input id="burnCommitment" type="text" size="50" placeholder="NFT commitment (hex)"></p>
			<select id="capabilityList2">
				<option value="NFTCapability.none">Immutable</option>
				<option value="NFTCapability.minting">Minting</option>
				<option value="NFTCapability.mutable">Mutable</option>
			</select>
			<p>* choose NFT capability from the list</p>
			<p><button type="button" class="buttonB" id="burnNft">Burn NFT</button></p>
			<p id="burnNftTx"></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Sweep paper wallet</button>
		<div class="content">
			<p>Before sweeping, check the balance of the paper wallet.<br> 
				You can create a wallet or import an existing wallet into Microfi wallet and paste the BCH address into the recipient field, or simply use your favorite BCH wallet address (which supports CashTokens) in the recipient field.
			</p>
			<p><input id="sweepPk" type="text" size="50" placeholder="Paste a paper wallet private key (WIF) here"></p>
			<p><button type="button" class="button" id="balancePw">Check paper wallet balance</button></p>
			<p id="bchbalancePw"></p>
			<p id="tokenbalancePw"></p>
			<p><input id="recipientAddress" type="text" size="50" placeholder="recipient address bchtest:..."></p>
			<p><button type="button" class="buttonB" id="sweepPw">Sweep tokens and tBCH</button> * if paper the wallet has tokens and BCH</p>
			<p><button type="button" class="buttonB" id="sweepPwBch">Sweep BCH</button> * if the paper wallet has only tBCH</p>
			<p id="swept"></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Watch wallet</button>
		<div class="content">
			<p><input id="wAddress" type="text" size="50" placeholder="bchtest:..."></p>
			<p><button type="button" class="buttonB" id="spy">Watch wallet balances</button></p>
			<p id="wbchbalance"></p>
			<p id="wtokens"></p>
			<p id="wnfts"></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Payment request url (BCH only)</button>
		<div class="content">
			<p><input id="address" type="text" size="50" placeholder="address bchtest:q..."></p>
			<p><input id="amount" type="text" size="50" placeholder="amount e.g. 0.0001"></p>
			<p><input id="label" type="text" size="50" placeholder="some text"></p>
			<p><button type="button" class="buttonB" id="createPaymentRequest">Create payment url</button></p>
			<p id="payurl"></p>
			
			<p><input id="upayurl" type="text" size="50" placeholder="payment request url"></p>
			<p><button type="button" class="buttonB" id="usePaymentRequest">Use payment url</button> * with an external wallet</p>
			<p id="usepayurl"></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Sign or verify a message</button>
		<div class="content">
			<p><input id="smessage" type="text" size="50" placeholder="message"></p>
			<p><button type="button" class="buttonB" id="signM">Sign a message</button> * with Microfi wallet</p>
			<p id="signMessage"></p>
			
			<p><input id="vaddress" type="text" size="50" placeholder="signing address"></p>
			<p><input id="signH" type="text" size="50" placeholder="signature"></p>
			<p><button type="button" class="buttonB" id="verifyM">Verify a message</button></p>
			<p id="verifyMessage"></p>
		</div>
	</div>
	<br>
	<div>
		<button type="button" class="collapsible">Microfi Notary</button>
		<div class="content">
			<!-- <p>Sending a message in op_return with Microfi wallet requires 0.01 XMI and a few satoshi for a transaction fee</p> -->
			<p><input id="opmessage" type="text" size="50" placeholder="message"></p>
			<p><button type="button" class="buttonB" id="sendOp">Send</button></p>
			<p id="opsent"></p>
			<p id="dochash"></p>
		</div>
	</div>
	<br><br>
	<footer>
		<p>Microfi testnet wallet is under development</p>
		<p>Clear local storage if the wallet is being used on someone else's device or if you want to create a new wallet</p>
		<br>
		<p>Credits:<br><a href="https://mainnet.cash">mainnet.cash</a> | <a href="https://cashonize.com">cashonize</a></p>
		<br>
		<p><a href="https://microfi.eu"><img src="../img/microfi_icon.png" alt="Microfi" width="36"></a> <a href="https://github.com/mazetoken/microfiweb/tree/main/testnet/"><img src="../img/githubwhite.png" alt="Github" width="32"></a> <a href="https://t.me/mazetokens/"><img src="../img/telegram.png" alt="Telegram" width="32"></a></p>
		<p>Microfi Free Flow Project, 2023</p>
	</footer>
	<br>
	<script src="../collapsible.js"></script>
	<script src="../testnetwallet.js"></script>
</body>
</html>